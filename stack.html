<!DOCTYPE html>
<html lang="en">
<head>
  <title>Testing image stack</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
 <link rel="stylesheet" type="text/css" href="stack.css">
 
  
</head>
<body onload="insertPictures()">
<div id="Stack">
	
</div>


<script type="text/javascript">

	// Directory and photos to show
	var directory = "img/";
	var photos = [
				"example1.jpg",
				"example2.jpg",
				"example3.jpg",
				"example4.jpg",
				"example5.jpg",
				"example6.jpg",
				"example7.jpg",
				"example8.jpg",
        "example9.jpg",
        "example10.jpg"
	];
  
  //<div id="photo5" class="photo-stack">
  //  <a onclick="spinAndMove('photo5', '5')"><img src="img/example5.jpg"  class="photos" id="5" ></a>
  //</div>
  function insertPictures(){
    var index = 0;
    while(photos[index]){
      var div = document.createElement('div');
      index++;
      var divId = "photo" + index;
      div.className = "photo-stack";
      div.setAttribute("id", divId);
      div.innerHTML =  '<a onclick="spinAndMove(' + "'" +
                        divId + "'" +
                  ", '" +
                  index + "'" +
                  ')"><img src="' +
                  directory + 
                  photos[index -1] +
                  '" class="photos" id="' +
                  index +
                  '"></a>';
      document.getElementById('Stack').appendChild(div);
     

    }

  }

	function spinAndMove(locationDiv, locationImg){
		var elem = document.getElementById(locationDiv);
  		var img = document.getElementById(locationImg);
  		// top and left are for the absolute postions that the photo starts at
  		var top = 300;
  		var left = 0;
  		// imgWidth and imgHeight are a percentage of size of the photo
  		var imgWidth = 100;
  		var imgHeight = 100;
  		var id = setInterval(frame, 2);
      function frame() {
    		
    		if (left == 500) {
      			// Stops antimation
      			clearInterval(id);
    		} else {
      			top = top - 5;
      			left = left + 5;
     			elem.style.top = top + 'px';
      			elem.style.left = left + 'px';
      			elem.style.transform = 'rotate(' + left + 'deg)';
      			// as long as image size is above 1% in size
      			if(imgWidth > 1){
      				imgWidth--;
      				imgHeight--;
      				img.style.width = imgWidth + 'px';
      				img.style.height = imgHeight + 'px';
      			}

    		}
  		}

	}

</script>


</body>
</html>
